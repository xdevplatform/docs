---
title: "OAuth2PKCEAuth"
sidebarTitle: "OAuth2PKCEAuth"
---

This module provides OAuth2 PKCE (Proof Key for Code Exchange) authentication
functionality for secure authorization flows. Includes code verifier generation,
token management, and automatic token refresh capabilities.

### `class xdk.oauth2_auth.OAuth2PKCEAuth`

OAuth2 PKCE authentication for the X API.

#### Parameters

<ParamField path="path.base_url" type="str" default="'https://api.twitter.com'"></ParamField>

<ParamField path="path.client_id" type="str or None" default="None"></ParamField>

<ParamField path="path.client_secret" type="str or None" default="None"></ParamField>

<ParamField path="path.redirect_uri" type="str or None" default="None"></ParamField>

<ParamField path="path.token" type="Dict[str, Any] or None" default="None"></ParamField>

<ParamField path="path.scope" type="str or None" default="None"></ParamField>

### `__init__`

Initialize the OAuth2 PKCE authentication.

#### Parameters

<ParamField path="path.base_url" type="str" default="'https://api.twitter.com'">
The base URL for the X API.
</ParamField>

<ParamField path="path.client_id" type="str or None" default="None">
The client ID for the X API.
</ParamField>

<ParamField path="path.client_secret" type="str or None" default="None">
The client secret for the X API.
</ParamField>

<ParamField path="path.redirect_uri" type="str or None" default="None">
The redirect URI for OAuth2 authorization.
</ParamField>

<ParamField path="path.token" type="Dict[str, Any] or None" default="None">
An existing OAuth2 token dictionary (if available).
</ParamField>

<ParamField path="path.scope" type="str or None" default="None">
Space-separated list of scopes for OAuth2 authorization.
</ParamField>

### `fetch_token`

Fetch token using authorization response and code verifier.

#### Parameters

<ParamField path="path.authorization_response" type="str">
The full callback URL received after authorization
</ParamField>

#### Returns

`Dictstr, Any`

### `get_authorization_url`

Get the authorization URL for the OAuth2 PKCE flow.
:returns: (authorization_url, state)
:rtype: tuple

#### Returns

`Tuplestr, str`

### `is_token_expired`

Check if the token is expired.
:returns: True if the token is expired, False otherwise.
:rtype: bool

#### Returns

`bool`

### `refresh_token`

Refresh the access token.
:returns: The refreshed token dictionary
:rtype: Dict[str, Any]

#### Returns

`Dictstr, Any`

