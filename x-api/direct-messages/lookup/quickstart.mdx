---
title: Quickstart
sidebarTitle: Quickstart
description: Retrieve Direct Message events and conversations
keywords: ["DM lookup quickstart", "direct messages quickstart", "get DMs tutorial", "DM lookup guide"]
---

import { Button } from '/snippets/button.mdx';

This guide walks you through retrieving Direct Message events for the authenticated user.

<Note>
**Prerequisites**

Before you begin, you'll need:
- A [developer account](https://developer.x.com/en/portal/petition/essential/basic-info) with an approved App
- User Access Token (OAuth 1.0a or OAuth 2.0 PKCE)
</Note>

---

## Get all DM events

Retrieve all DM events for the authenticated user:

<CodeGroup dropdown>

```bash cURL
curl "https://api.x.com/2/dm_events?\
dm_event.fields=created_at,sender_id,text&\
max_results=100" \
  -H "Authorization: Bearer $USER_ACCESS_TOKEN"
```

```python Python SDK
from xdk import Client

client = Client(bearer_token="YOUR_USER_ACCESS_TOKEN")

# Get all DM events with pagination
for page in client.dm_events.list(
    dm_event_fields=["created_at", "sender_id", "text"],
    max_results=100
):
    for event in page.data:
        print(f"{event.event_type}: {event.text}")
```

```javascript JavaScript SDK
import { Client } from "@xdevplatform/xdk";

const client = new Client({ accessToken: "YOUR_USER_ACCESS_TOKEN" });

// Get all DM events with pagination
const paginator = client.dmEvents.list({
  dmEventFields: ["created_at", "sender_id", "text"],
  maxResults: 100,
});

for await (const page of paginator) {
  page.data?.forEach((event) => {
    console.log(`${event.event_type}: ${event.text}`);
  });
}
```

</CodeGroup>

### Response

```json
{
  "data": [
    {
      "id": "1234567890",
      "event_type": "MessageCreate",
      "text": "Hello! How are you?",
      "sender_id": "9876543210",
      "created_at": "2024-01-15T10:30:00.000Z"
    }
  ],
  "meta": {
    "result_count": 1,
    "next_token": "abc123"
  }
}
```

---

## Get one-to-one conversation

Retrieve DM events from a specific one-to-one conversation:

<CodeGroup dropdown>

```bash cURL
curl "https://api.x.com/2/dm_conversations/with/9876543210/dm_events?\
dm_event.fields=created_at,sender_id,text" \
  -H "Authorization: Bearer $USER_ACCESS_TOKEN"
```

```python Python SDK
from xdk import Client

client = Client(bearer_token="YOUR_USER_ACCESS_TOKEN")

# Get DM events from a one-to-one conversation
for page in client.dm_events.get_by_participant(
    participant_id="9876543210",
    dm_event_fields=["created_at", "sender_id", "text"]
):
    for event in page.data:
        print(f"{event.created_at}: {event.text}")
```

```javascript JavaScript SDK
import { Client } from "@xdevplatform/xdk";

const client = new Client({ accessToken: "YOUR_USER_ACCESS_TOKEN" });

// Get DM events from a one-to-one conversation
const paginator = client.dmEvents.getByParticipant("9876543210", {
  dmEventFields: ["created_at", "sender_id", "text"],
});

for await (const page of paginator) {
  page.data?.forEach((event) => {
    console.log(`${event.created_at}: ${event.text}`);
  });
}
```

</CodeGroup>

Replace `9876543210` with the other participant's user ID.

---

## Get conversation by ID

Retrieve DM events from a specific conversation ID:

<CodeGroup dropdown>

```bash cURL
curl "https://api.x.com/2/dm_conversations/1234567890-9876543210/dm_events?\
dm_event.fields=created_at,sender_id,text" \
  -H "Authorization: Bearer $USER_ACCESS_TOKEN"
```

```python Python SDK
from xdk import Client

client = Client(bearer_token="YOUR_USER_ACCESS_TOKEN")

# Get DM events from a conversation by ID
for page in client.dm_events.get_by_conversation(
    dm_conversation_id="1234567890-9876543210",
    dm_event_fields=["created_at", "sender_id", "text"]
):
    for event in page.data:
        print(f"{event.created_at}: {event.text}")
```

```javascript JavaScript SDK
import { Client } from "@xdevplatform/xdk";

const client = new Client({ accessToken: "YOUR_USER_ACCESS_TOKEN" });

// Get DM events from a conversation by ID
const paginator = client.dmEvents.getByConversation("1234567890-9876543210", {
  dmEventFields: ["created_at", "sender_id", "text"],
});

for await (const page of paginator) {
  page.data?.forEach((event) => {
    console.log(`${event.created_at}: ${event.text}`);
  });
}
```

</CodeGroup>

---

## Filter by event type

Get only specific event types:

<CodeGroup dropdown>

```bash cURL
curl "https://api.x.com/2/dm_events?\
event_types=MessageCreate&\
dm_event.fields=created_at,sender_id,text" \
  -H "Authorization: Bearer $USER_ACCESS_TOKEN"
```

```python Python SDK
from xdk import Client

client = Client(bearer_token="YOUR_USER_ACCESS_TOKEN")

# Get only MessageCreate events
for page in client.dm_events.list(
    event_types=["MessageCreate"],
    dm_event_fields=["created_at", "sender_id", "text"]
):
    for event in page.data:
        print(f"{event.text}")
```

```javascript JavaScript SDK
import { Client } from "@xdevplatform/xdk";

const client = new Client({ accessToken: "YOUR_USER_ACCESS_TOKEN" });

// Get only MessageCreate events
const paginator = client.dmEvents.list({
  eventTypes: ["MessageCreate"],
  dmEventFields: ["created_at", "sender_id", "text"],
});

for await (const page of paginator) {
  page.data?.forEach((event) => {
    console.log(event.text);
  });
}
```

</CodeGroup>

### Event types

| Type | Description |
|:-----|:------------|
| `MessageCreate` | A message was sent |
| `ParticipantsJoin` | User joined conversation |
| `ParticipantsLeave` | User left conversation |

---

## Include user data

Expand sender information:

<CodeGroup dropdown>

```bash cURL
curl "https://api.x.com/2/dm_events?\
dm_event.fields=created_at,sender_id,text&\
expansions=sender_id&\
user.fields=username,profile_image_url" \
  -H "Authorization: Bearer $USER_ACCESS_TOKEN"
```

```python Python SDK
from xdk import Client

client = Client(bearer_token="YOUR_USER_ACCESS_TOKEN")

# Get DM events with sender info
for page in client.dm_events.list(
    dm_event_fields=["created_at", "sender_id", "text"],
    expansions=["sender_id"],
    user_fields=["username", "profile_image_url"]
):
    for event in page.data:
        # Match sender from includes
        print(f"{event.sender_id}: {event.text}")
```

```javascript JavaScript SDK
import { Client } from "@xdevplatform/xdk";

const client = new Client({ accessToken: "YOUR_USER_ACCESS_TOKEN" });

// Get DM events with sender info
const paginator = client.dmEvents.list({
  dmEventFields: ["created_at", "sender_id", "text"],
  expansions: ["sender_id"],
  userFields: ["username", "profile_image_url"],
});

for await (const page of paginator) {
  page.data?.forEach((event) => {
    console.log(`${event.sender_id}: ${event.text}`);
  });
  // Sender user objects are in page.includes.users
}
```

</CodeGroup>

### Response with expansion

```json
{
  "data": [
    {
      "id": "1234567890",
      "event_type": "MessageCreate",
      "text": "Hello!",
      "sender_id": "9876543210"
    }
  ],
  "includes": {
    "users": [
      {
        "id": "9876543210",
        "username": "example_user",
        "profile_image_url": "https://..."
      }
    ]
  }
}
```

---

## Common parameters

| Parameter | Description |
|:----------|:------------|
| `max_results` | Events per page (1-100, default 100) |
| `pagination_token` | Token for next page |
| `dm_event.fields` | Event fields to return |
| `event_types` | Filter by event type |
| `expansions` | Related objects to include |

---

## Next steps

<CardGroup cols={2}>
  <Card title="Send DMs" icon="paper-plane" href="/x-api/direct-messages/manage/quickstart">
    Send Direct Messages
  </Card>
  <Card title="Integration guide" icon="book" href="/x-api/direct-messages/lookup/integrate">
    Key concepts and best practices
  </Card>
  <Card title="API Reference" icon="code" href="/x-api/direct-messages/returns-dm-events">
    Full endpoint documentation
  </Card>
</CardGroup>
