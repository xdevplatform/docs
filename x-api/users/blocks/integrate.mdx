---
title: Integration Guide
sidebarTitle: Integration Guide
description: Key concepts and best practices for integrating blocks endpoints
keywords: ["blocks integration", "block users integration", "blocks guide"]
---

import { Button } from '/snippets/button.mdx';

This guide covers the key concepts you need to integrate the blocks endpoints into your application.

<Warning>
**Enterprise plan required** â€” The block (`POST /2/users/:id/blocking`) and unblock (`DELETE /2/users/:source_user_id/blocking/:target_user_id`) endpoints are only available on the [Enterprise plan](/forms/enterprise-api-interest). The block lookup endpoint (`GET /2/users/:id/blocking`) is available on all plans, including pay-per-use.
</Warning>

---

## Authentication

Blocks endpoints require user authentication:

| Method | Description |
|:-------|:------------|
| [OAuth 2.0 Authorization Code with PKCE](/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) | Recommended for new applications |
| [OAuth 1.0a User Context](/resources/fundamentals/authentication) | Legacy support |

<Warning>
App-Only authentication is not supported. You must authenticate on behalf of a user.
</Warning>

### Required scopes (OAuth 2.0)

| Scope | Required for | Availability |
|:------|:-------------|:-------------|
| `block.read` | Retrieving blocked accounts | Pay-per-use, Enterprise |
| `block.write` | Blocking and unblocking accounts | Enterprise only |
| `users.read` | Required with block scopes | Pay-per-use, Enterprise |

---

## Endpoints overview

| Method | Endpoint | Description | Availability |
|:-------|:---------|:------------|:-------------|
| GET | `/2/users/:id/blocking` | Get list of blocked accounts | Pay-per-use, Enterprise |
| POST | `/2/users/:id/blocking` | Block an account | Enterprise only |
| DELETE | `/2/users/:source_user_id/blocking/:target_user_id` | Unblock an account | Enterprise only |

---

## Fields and expansions

### Default response

```json
{
  "data": [
    {
      "id": "1234567890",
      "name": "Example User",
      "username": "example"
    }
  ]
}
```

### Available fields

<Accordion title="user.fields">
| Field | Description |
|:------|:------------|
| `created_at` | Account creation date |
| `description` | User bio |
| `profile_image_url` | Avatar URL |
| `public_metrics` | Follower/following counts |
| `verified` | Verification status |
</Accordion>

<Accordion title="expansions">
| Expansion | Description |
|:----------|:------------|
| `pinned_tweet_id` | User's pinned Post |
</Accordion>

---

## What happens when you block

<CardGroup cols={2}>
  <Card title="They can't" icon="xmark">
    - See your Posts (unless logged out)
    - Follow you
    - Send you DMs
    - Add you to Lists
    - Tag you in photos
  </Card>
  <Card title="You can't" icon="xmark">
    - See their Posts
    - Follow them
    - Send them DMs
  </Card>
</CardGroup>

<Note>
When you block someone who follows you, they are automatically unfollowed.
</Note>

---

## Pagination

For users with large block lists, results are paginated:

<CodeGroup dropdown>

```bash cURL
# First request
curl "https://api.x.com/2/users/123/blocking?max_results=100" \
  -H "Authorization: Bearer $USER_ACCESS_TOKEN"

# Subsequent request with pagination token
curl "https://api.x.com/2/users/123/blocking?max_results=100&pagination_token=NEXT_TOKEN" \
  -H "Authorization: Bearer $USER_ACCESS_TOKEN"
```

```python Python SDK
from xdk import Client

# Use OAuth 2.0 user access token
client = Client(bearer_token="YOUR_USER_ACCESS_TOKEN")

# The SDK handles pagination automatically
all_blocked = []

for page in client.users.get_blocking(user_id="123", max_results=100):
    if page.data:
        all_blocked.extend(page.data)

print(f"Blocked {len(all_blocked)} users")
```

```javascript JavaScript SDK
import { Client } from "@xdevplatform/xdk";

const client = new Client({ accessToken: "YOUR_USER_ACCESS_TOKEN" });

async function getAllBlockedUsers(userId) {
  const allBlocked = [];

  // The SDK handles pagination automatically
  const paginator = client.users.getBlocking(userId, { maxResults: 100 });

  for await (const page of paginator) {
    if (page.data) {
      allBlocked.push(...page.data);
    }
  }

  return allBlocked;
}

// Usage
const blocked = await getAllBlockedUsers("123");
console.log(`Blocked ${blocked.length} users`);
```

</CodeGroup>

---

## Error handling

| Status | Error | Solution |
|:-------|:------|:---------|
| 400 | Invalid request | Check user ID format |
| 401 | Unauthorized | Verify access token |
| 403 | Forbidden | Check scopes, permissions, and plan access. Block/unblock endpoints require an [Enterprise plan](/forms/enterprise-api-interest) |
| 404 | Not Found | User doesn't exist |
| 429 | Too Many Requests | Wait and retry |

---

## Next steps

<CardGroup cols={2}>
  <Card title="Quickstart" icon="rocket" href="/x-api/users/blocks/quickstart">
    Make your first blocks request
  </Card>
  <Card title="Mutes" icon="volume-xmark" href="/x-api/users/mutes/introduction">
    Mute users instead of blocking
  </Card>
  <Card title="API Reference" icon="code" href="/x-api/users/get-blocking">
    Full endpoint documentation
  </Card>
  <Card title="Sample code" icon="github" href="https://github.com/xdevplatform/Twitter-API-v2-sample-code">
    Working code examples
  </Card>
</CardGroup>
