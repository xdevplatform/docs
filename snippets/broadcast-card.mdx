export const BroadcastCard = ({ url, title, date }) => {
  if (!url) {
    return null;
  }
  
  // Extract broadcast ID from URL for potential future use
  const broadcastId = url.match(/\/i\/broadcasts\/([^\/\?#]+)/)?.[1];
  
  // Parse title and date if date is in parentheses in title
  let displayTitle = title;
  let displayDate = date;
  
  if (title && !date) {
    const dateMatch = title.match(/\(([^)]+)\)$/);
    if (dateMatch) {
      displayDate = dateMatch[1];
      displayTitle = title.replace(/\s*\([^)]+\)$/, '').trim();
    }
  }
  
  return (
    <a 
      href={url} 
      target="_blank"
      rel="noopener noreferrer"
      className="block not-prose text-inherit no-underline flex-shrink-0 w-[480px] max-w-[480px] rounded-xl overflow-hidden bg-black border border-gray-700 transition-transform hover:-translate-y-0.5 hover:shadow-lg"
      style={{ margin: 0 }}
    >
      {/* Preview container with 16:9 aspect ratio */}
      <div 
        className="relative w-full overflow-hidden"
        style={{ 
          paddingTop: '56.25%', // 16:9 aspect ratio
          background: 'linear-gradient(135deg, #0f0f0f 0%, #050505 100%)',
          backgroundSize: 'cover',
          backgroundPosition: 'center'
        }}
      >
        {/* Logo container (offset position) */}
        <div 
          className="absolute opacity-[0.15]"
          style={{ 
            bottom: '-14%',
            left: '-7%',
            width: '400px',
            height: '400px'
          }}
        >
          <svg 
            width="400" 
            height="400" 
            viewBox="0 0 1200 1227" 
            fill="none" 
            xmlns="http://www.w3.org/2000/svg"
          >
            <path 
              d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" 
              fill="white"
            />
          </svg>
        </div>
        
        {/* Overlay with play button */}
        <div 
          className="absolute inset-0 flex flex-col items-center justify-center text-white cursor-pointer bg-black/30"
        >
          <div 
            className="w-20 h-20 rounded-full bg-black/90 border-2 border-white/30 flex items-center justify-center mb-4 transition-transform hover:scale-110"
          >
            <div className="text-white text-3xl ml-1">â–¶</div>
          </div>
        </div>
      </div>
      
      {/* Title container */}
      {displayTitle && (
        <div className="p-4 bg-black border-t border-gray-700">
          <div className="text-white text-base font-semibold leading-snug mb-1">
            {displayTitle}
          </div>
          {displayDate && (
            <div className="text-gray-400 text-sm font-normal leading-snug">
              {displayDate}
            </div>
          )}
        </div>
      )}
    </a>
  );
};

